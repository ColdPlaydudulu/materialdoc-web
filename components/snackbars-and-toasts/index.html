
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Material Components for Android">
      
      
        <link rel="canonical" href="http://materialdoc.cn/components/snackbars-and-toasts/">
      
      
        <meta name="author" content="脉脉不得语">
      
      
        <link rel="shortcut icon" href="../../images/favicon.ico">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.8.1">
    
    
      
        <title>Snackbars & Toasts - Material Desingn 开发者文档</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-a4b2c11202.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-096a56e411.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="http://materialdoc.cn" title="Material Desingn 开发者文档" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Components
                </span>
              
            
            Snackbars & Toasts
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/materialdoccn/materialdoc-web" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../.." title="Home" class="md-tabs__link">
          Home
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../autocomplete/" title="Components" class="md-tabs__link md-tabs__link--active">
          Components
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../patterns/data-formats/" title="Ptterns" class="md-tabs__link">
          Ptterns
        </a>
      
    </li>
  

      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Material Desingn 开发者文档
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/materialdoccn/materialdoc-web" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Home
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Home
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../.." title="关于" class="md-nav__link">
      关于
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../application/" title="应用程序" class="md-nav__link">
      应用程序
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../how-to-contribute/" title="如何参与贡献" class="md-nav__link">
      如何参与贡献
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Components
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Components
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../autocomplete/" title="Auto-complete" class="md-nav__link">
      Auto-complete
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buttons/" title="Buttons" class="md-nav__link">
      Buttons
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fab/" title="Buttons FAB" class="md-nav__link">
      Buttons FAB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bottom-navigation/" title="Bottom navigation" class="md-nav__link">
      Bottom navigation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bottom-sheets/" title="Bottom sheets" class="md-nav__link">
      Bottom sheets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cards/" title="Cards" class="md-nav__link">
      Cards
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dialogs/" title="Dialogs" class="md-nav__link">
      Dialogs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../menus/" title="Menus" class="md-nav__link">
      Menus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pickers/" title="Pickers" class="md-nav__link">
      Pickers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../progress/" title="Progress & activity" class="md-nav__link">
      Progress & activity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rating-bar/" title="Rating Bar" class="md-nav__link">
      Rating Bar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../selection-controls/" title="Selection controls" class="md-nav__link">
      Selection controls
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Snackbars & Toasts
      </label>
    
    <a href="./" title="Snackbars & Toasts" class="md-nav__link md-nav__link--active">
      Snackbars & Toasts
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#snack-bar" title="Snack Bar" class="md-nav__link">
    Snack Bar
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" title="如何添加?" class="md-nav__link">
    如何添加?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duration" title="Duration" class="md-nav__link">
    Duration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dismiss" title="Dismiss" class="md-nav__link">
    Dismiss
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" title="Events" class="md-nav__link">
    Events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actions" title="Actions" class="md-nav__link">
    Actions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="如何设置样式?" class="md-nav__link">
    如何设置样式?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" title="通过主题" class="md-nav__link">
    通过主题
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" title="通过代码" class="md-nav__link">
    通过代码
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view" title="通过自定义 view" class="md-nav__link">
    通过自定义 view
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#toast" title="Toast" class="md-nav__link">
    Toast
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" title="如何添加?" class="md-nav__link">
    如何添加?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duration_1" title="Duration" class="md-nav__link">
    Duration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancel" title="Cancel" class="md-nav__link">
    Cancel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#positioning" title="Positioning" class="md-nav__link">
    Positioning
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" title="如何设置样式?" class="md-nav__link">
    如何设置样式?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" title="用代码" class="md-nav__link">
    用代码
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view_1" title="用自定义 View" class="md-nav__link">
    用自定义 View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tabs/" title="Tabs" class="md-nav__link">
      Tabs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../text-fields/" title="Text fields" class="md-nav__link">
      Text fields
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../toolbars/" title="Toolbars" class="md-nav__link">
      Toolbars
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Ptterns
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Ptterns
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../patterns/data-formats/" title="Data formats" class="md-nav__link">
      Data formats
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../patterns/launch-screen/" title="Launch screens" class="md-nav__link">
      Launch screens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../patterns/navigation-drawer/" title="Navigation drawer" class="md-nav__link">
      Navigation drawer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../patterns/notifications/" title="Notifications" class="md-nav__link">
      Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../patterns/swipe-to-refresh/" title="Swipe to refresh" class="md-nav__link">
      Swipe to refresh
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../article-template/" title="Article template" class="md-nav__link">
      Article template
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#snack-bar" title="Snack Bar" class="md-nav__link">
    Snack Bar
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" title="如何添加?" class="md-nav__link">
    如何添加?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duration" title="Duration" class="md-nav__link">
    Duration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dismiss" title="Dismiss" class="md-nav__link">
    Dismiss
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" title="Events" class="md-nav__link">
    Events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actions" title="Actions" class="md-nav__link">
    Actions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="如何设置样式?" class="md-nav__link">
    如何设置样式?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" title="通过主题" class="md-nav__link">
    通过主题
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" title="通过代码" class="md-nav__link">
    通过代码
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view" title="通过自定义 view" class="md-nav__link">
    通过自定义 view
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#toast" title="Toast" class="md-nav__link">
    Toast
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" title="如何添加?" class="md-nav__link">
    如何添加?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duration_1" title="Duration" class="md-nav__link">
    Duration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancel" title="Cancel" class="md-nav__link">
    Cancel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#positioning" title="Positioning" class="md-nav__link">
    Positioning
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" title="如何设置样式?" class="md-nav__link">
    如何设置样式?
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" title="用代码" class="md-nav__link">
    用代码
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view_1" title="用自定义 View" class="md-nav__link">
    用自定义 View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/materialdoccn/materialdoc-web/edit/master/docs/components/snackbars-and-toasts.md" title="Edit this page" class="md-icon md-content__icon">edit</a>
                
                
                <h1 id="snackbars-toasts">Snackbars &amp; Toasts<a class="headerlink" href="#snackbars-toasts" title="Permanent link">&para;</a></h1>
<h2 id="snack-bar">Snack Bar<a class="headerlink" href="#snack-bar" title="Permanent link">&para;</a></h2>
<p><img alt="" src="../../images/snack-bar-1.png" /></p>
<blockquote>
<p>摘自 google material design <a href="http://www.google.com.ua/design/spec/components/snackbars-toasts.html#">文档</a>.</p>
<p>Snackbars 通过在屏幕底部显示一个简短的信息，提供了关于一个操作的轻量反馈。</p>
</blockquote>
<h3 id="_1">如何添加?<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>I. 在你的 <code>build.grade</code> 文件末尾添加最新的 <code>design</code> 库。</p>
<div class="codehilite"><pre><span></span><span class="n">dependencies</span> <span class="o">{</span>
    <span class="c1">// optionally, Snackbar can be used in pair</span>
    <span class="c1">// with CoordinatorLayout</span>
    <span class="c1">// compile &#39;com.android.support:appcompat-v7:X.X.X&#39;</span>

    <span class="n">compile</span> <span class="s1">&#39;com.android.support:design:X.X.X&#39;</span> <span class="c1">// where X.X.X version</span>
<span class="o">}</span>
</pre></div>


<p>II. 用 <code>make()</code> 方法创建一个 <code>Snackbar</code> 实例，然后调用 <code>show()</code> 方法。</p>
<div class="codehilite"><pre><span></span><span class="n">Snackbar</span>
    <span class="o">.</span><span class="na">make</span><span class="o">(</span><span class="n">view</span><span class="o">,</span> <span class="s">&quot;No network connection.&quot;</span><span class="o">,</span><span class="n">Snackbar</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">)</span>
    <span class="o">.</span><span class="na">show</span><span class="o">();</span>
</pre></div>


<p>参数 <code>view</code> 被用来查找父视图。Snackbar 将被显示在它的上面。</p>
<blockquote>
<p>Snackbar 将尝试并找到一个父视图去控制 Snackbar's 视图。Snackbar 将沿着视图树去尝试找到一个合适的父视图，它被定义为一个 <code>CoordinatorLayout</code> 或者窗口的 decor's 内容视图，以先找到的为准。</p>
</blockquote>
<h4 id="duration">Duration<a class="headerlink" href="#duration" title="Permanent link">&para;</a></h4>
<p>指定 <code>Snackbar</code> 在屏幕上显示多长时间使用 <code>setDuration</code> 方法。</p>
<div class="codehilite"><pre><span></span><span class="c1">// 预定义的持续时间常量</span>
<span class="n">Snackbar</span><span class="o">.</span><span class="na">LENGTH_SHORT</span> <span class="c1">// 1500 millis</span>
<span class="n">Snackbar</span><span class="o">.</span><span class="na">LENGTH_LONG</span> <span class="c1">// 2750 millis</span>
<span class="n">Snackbar</span><span class="o">.</span><span class="na">LENGTH_INDEFINITE</span>

<span class="c1">// 你可设置自己定义的持续时间</span>
<span class="n">snackbar</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="n">TimeUnit</span><span class="o">.</span><span class="na">MINUTES</span><span class="o">.</span><span class="na">toMillis</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span>
</pre></div>


<h4 id="dismiss">Dismiss<a class="headerlink" href="#dismiss" title="Permanent link">&para;</a></h4>
<p>使用 <code>dismiss()</code> 方法可以在任何时候 dismiss 掉 <code>Snackbar</code> 。</p>
<div class="codehilite"><pre><span></span><span class="n">Snackbar</span> <span class="n">snackBar</span> <span class="o">=</span> <span class="n">Snackbar</span><span class="o">.</span><span class="na">make</span><span class="o">(</span><span class="n">view</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">duration</span><span class="o">);</span>
<span class="n">snackBar</span><span class="o">.</span><span class="na">dismiss</span><span class="o">();</span> <span class="c1">//hide snackbar</span>
</pre></div>


<h4 id="events">Events<a class="headerlink" href="#events" title="Permanent link">&para;</a></h4>
<p>每当 <code>Snackbar</code> 被显示或者隐藏的时候可以使用 <code>setCallback</code> 方法来追踪。</p>
<div class="codehilite"><pre><span></span><span class="n">Snackbar</span>
  <span class="o">.</span><span class="na">make</span><span class="o">(...)</span>
  <span class="o">.</span><span class="na">setCallback</span><span class="o">(</span><span class="k">new</span> <span class="n">Snackbar</span><span class="o">.</span><span class="na">Callback</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDismissed</span><span class="o">(</span><span class="n">Snackbar</span> <span class="n">snackbar</span><span class="o">,</span> <span class="kt">int</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// do some action on dismiss</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onShown</span><span class="o">(</span><span class="n">Snackbar</span> <span class="n">snackbar</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// do some action when snackbar is showed</span>
    <span class="o">}</span>
  <span class="o">})</span>
</pre></div>


<p>参数 <code>event</code> 来自于 <code>onDismissed()</code>，是 <a href="https://developer.android.com/reference/android/support/design/widget/Snackbar.Callback.html">Snackbar.Callback</a> 内预定义的常量之一。</p>
<h4 id="actions">Actions<a class="headerlink" href="#actions" title="Permanent link">&para;</a></h4>
<p><img alt="" src="http://www.materialdoc.com/images/snack-bar-2.png" /></p>
<p>Snackbar 可以包含一个 action 。通过调用 <code>setAction()</code> 方法添加它。</p>
<div class="codehilite"><pre><span></span><span class="n">Snackbar</span>
 <span class="o">.</span><span class="na">make</span><span class="o">(...)</span>
 <span class="o">.</span><span class="na">setAction</span><span class="o">(</span><span class="s">&quot;Retry&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
             <span class="nd">@Override</span>
             <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
               <span class="c1">// retry to send email here</span>
             <span class="o">}</span>
           <span class="o">})</span>
</pre></div>


<p>要开启滑动 dismiss 和自动的移动像 <a href="https://developer.android.com/reference/android/support/design/widget/FloatingActionButton.html">FloatingActionButton</a> 这样的组件需要使用 <a href="https://developer.android.com/reference/android/support/design/widget/CoordinatorLayout.html">CoordinatorLayout</a> 作为根布局。</p>
<div class="codehilite"><pre><span></span><span class="o">&lt;</span><span class="n">android</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">design</span><span class="o">.</span><span class="na">widget</span><span class="o">.</span><span class="na">CoordinatorLayout</span>
        <span class="n">xmlns</span><span class="o">:</span><span class="n">android</span><span class="o">=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
        <span class="n">xmlns</span><span class="o">:</span><span class="n">tools</span><span class="o">=</span><span class="s">&quot;http://schemas.android.com/tools&quot;</span>
        <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span>
        <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;match_parent&quot;</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">android</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">design</span><span class="o">.</span><span class="na">widget</span><span class="o">.</span><span class="na">FloatingActionButton</span>
            <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
            <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">&quot;wrap_content&quot;</span>
            <span class="n">android</span><span class="o">:</span><span class="n">layout_gravity</span><span class="o">=</span><span class="s">&quot;end|bottom&quot;</span>
            <span class="n">android</span><span class="o">:</span><span class="n">src</span><span class="o">=</span><span class="s">&quot;@android:drawable/ic_menu_call&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">android</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">design</span><span class="o">.</span><span class="na">widget</span><span class="o">.</span><span class="na">CoordinatorLayout</span><span class="o">&gt;</span>
</pre></div>


<h2 id="_2">如何设置样式?<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p><img alt="" src="http://www.materialdoc.com/images/snack-bar-3.png" /></p>
<h4 id="_3">通过主题<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<p>I. 在你的 <code>values/styles.xml</code> 文件内定义自定义样式。</p>
<div class="codehilite"><pre><span></span><span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">&quot;SnackbarTheme&quot;</span> <span class="na">parent=</span><span class="s">&quot;Theme.AppCompat.Light&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;colorAccent&quot;</span><span class="nt">&gt;</span>@color/indigo<span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">&quot;android:textColor&quot;</span><span class="nt">&gt;</span>@color/pink<span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/style&gt;</span>
</pre></div>


<p>II. 在 <code>AndroidManifest.xml</code> 中通过<code>android:theme</code> 属性应用这个样式到你的 <code>Activity</code>。</p>
<div class="codehilite"><pre><span></span><span class="o">&lt;</span><span class="n">activity</span>
    <span class="n">android</span><span class="o">:</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;.SnackbarActivity&quot;</span>
    <span class="n">android</span><span class="o">:</span><span class="n">theme</span><span class="o">=</span><span class="s">&quot;@style/AppTheme&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">activity</span><span class="o">&gt;</span>
</pre></div>


<blockquote>
<p>备注: 应用主题到 <code>Activity</code> 将会应用 <code>colorAccent</code> 和 <code>android:textColor</code> 到它内部的所有 view。</p>
</blockquote>
<h4 id="_4">通过代码<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<p>使用 <code>getView()</code> 方法获取 <code>Snackbar</code> 视图并改变它的属性。</p>
<div class="codehilite"><pre><span></span><span class="c1">// 创建实例</span>
<span class="n">Snackbar</span> <span class="n">snackbar</span> <span class="o">=</span> <span class="n">Snackbar</span><span class="o">.</span><span class="na">make</span><span class="o">(</span><span class="n">view</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">duration</span><span class="o">);</span>

<span class="c1">// 设置动作按钮颜色</span>
<span class="n">snackbar</span><span class="o">.</span><span class="na">setActionTextColor</span><span class="o">(</span><span class="n">getResources</span><span class="o">().</span><span class="na">getColor</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">color</span><span class="o">.</span><span class="na">indigo</span><span class="o">));</span>

<span class="c1">// 获取 snackbar 视图</span>
<span class="n">View</span> <span class="n">snackbarView</span> <span class="o">=</span> <span class="n">snackbar</span><span class="o">.</span><span class="na">getView</span><span class="o">();</span>

<span class="c1">// 改变 snackbar 文本颜色</span>
<span class="kt">int</span> <span class="n">snackbarTextId</span> <span class="o">=</span> <span class="n">android</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">design</span><span class="o">.</span><span class="na">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">snackbar_text</span><span class="o">;</span>
<span class="n">TextView</span> <span class="n">textView</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span><span class="n">snackbarView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">snackbarTextId</span><span class="o">);</span>
<span class="n">textView</span><span class="o">.</span><span class="na">setTextColor</span><span class="o">(</span><span class="n">getResources</span><span class="o">().</span><span class="na">getColor</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">color</span><span class="o">.</span><span class="na">indigo</span><span class="o">));</span>

<span class="c1">// 改变 snackbar 背景</span>
<span class="n">snackbarView</span><span class="o">.</span><span class="na">setBackgroundColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">MAGENTA</span><span class="o">);</span>
</pre></div>


<h4 id="view">通过自定义 view<a class="headerlink" href="#view" title="Permanent link">&para;</a></h4>
<p><img alt="" src="../../images/snack-bar-4.png" /></p>
<p>I. 在你的 values/layout 文件夹里添加一个自定义布局。</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
              <span class="na">android:orientation=</span><span class="s">&quot;horizontal&quot;</span>
              <span class="na">android:layout_width=</span><span class="s">&quot;match_parent&quot;</span>
              <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;Button</span>
        <span class="na">android:id=</span><span class="s">&quot;@+id/snackbar_action&quot;</span>
        <span class="na">android:layout_width=</span><span class="s">&quot;wrap_content&quot;</span>
        <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
        <span class="na">android:layout_marginLeft=</span><span class="s">&quot;@dimen/design_snackbar_extra_spacing_horizontal&quot;</span>
        <span class="na">android:layout_marginStart=</span><span class="s">&quot;@dimen/design_snackbar_extra_spacing_horizontal&quot;</span>
        <span class="na">android:layout_gravity=</span><span class="s">&quot;center_vertical|right|end&quot;</span>
        <span class="na">android:paddingTop=</span><span class="s">&quot;@dimen/design_snackbar_padding_vertical&quot;</span>
        <span class="na">android:paddingBottom=</span><span class="s">&quot;@dimen/design_snackbar_padding_vertical&quot;</span>
        <span class="na">android:paddingLeft=</span><span class="s">&quot;@dimen/design_snackbar_padding_horizontal&quot;</span>
        <span class="na">android:paddingRight=</span><span class="s">&quot;@dimen/design_snackbar_padding_horizontal&quot;</span>
        <span class="na">android:visibility=</span><span class="s">&quot;gone&quot;</span>
        <span class="na">android:textColor=</span><span class="s">&quot;?attr/colorAccent&quot;</span>
        <span class="na">style=</span><span class="s">&quot;?attr/borderlessButtonStyle&quot;</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:gravity=</span><span class="s">&quot;center_vertical|right&quot;</span>
        <span class="na">android:id=</span><span class="s">&quot;@+id/snackbar_text&quot;</span>
        <span class="na">android:layout_width=</span><span class="s">&quot;wrap_content&quot;</span>
        <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
        <span class="na">android:layout_weight=</span><span class="s">&quot;1&quot;</span>
        <span class="na">android:paddingTop=</span><span class="s">&quot;@dimen/design_snackbar_padding_vertical&quot;</span>
        <span class="na">android:paddingBottom=</span><span class="s">&quot;@dimen/design_snackbar_padding_vertical&quot;</span>
        <span class="na">android:paddingLeft=</span><span class="s">&quot;@dimen/design_snackbar_padding_horizontal&quot;</span>
        <span class="na">android:paddingRight=</span><span class="s">&quot;@dimen/design_snackbar_padding_horizontal&quot;</span>
        <span class="na">android:textAppearance=</span><span class="s">&quot;@style/TextAppearance.Design.Snackbar.Message&quot;</span>
        <span class="na">android:maxLines=</span><span class="s">&quot;@integer/design_snackbar_text_max_lines&quot;</span>
        <span class="na">android:layout_gravity=</span><span class="s">&quot;center_vertical|left|start&quot;</span>
        <span class="na">android:ellipsize=</span><span class="s">&quot;end&quot;</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/LinearLayout&gt;</span>
</pre></div>


<blockquote>
<p>备注</p>
<div class="codehilite"><pre><span></span>Use `@dimen/design_snackbar` values to match material design guidelines.

Use `?attr/colorAccent` to apply your Application Theme changes to `Snackbar`.
</pre></div>


</blockquote>
<p>II. 继承自 <a href="https://developer.android.com/reference/android/support/design/widget/BaseTransientBottomBar.html">BaseTransientBottomBar</a> 类.</p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CustomSnackbar</span> <span class="kd">extends</span> <span class="n">BaseTransientBottomBar</span><span class="o">&lt;</span><span class="n">CustomSnackbar</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="cm">/**</span>
<span class="cm">     * Constructor for the transient bottom bar.</span>
<span class="cm">     *</span>
<span class="cm">     * @param parent The parent for this transient bottom bar.</span>
<span class="cm">     * @param content The content view for this transient bottom bar.</span>
<span class="cm">     * @param contentViewCallback The content view callback for this transient bottom bar.</span>
<span class="cm">     */</span>
    <span class="kd">private</span> <span class="nf">CustomSnackbar</span><span class="o">(</span><span class="n">ViewGroup</span> <span class="n">parent</span><span class="o">,</span> <span class="n">View</span> <span class="n">content</span><span class="o">,</span>
                <span class="n">ContentViewCallback</span> <span class="n">contentViewCallback</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">parent</span><span class="o">,</span> <span class="n">content</span><span class="o">,</span> <span class="n">contentViewCallback</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>III. 添加 <a href="https://developer.android.com/reference/android/support/design/widget/BaseTransientBottomBar.ContentViewCallback.html">BaseTransientBottomBar.ContentViewCallback</a></p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CustomSnackbar</span> <span class="o">...</span> <span class="o">{</span>

  <span class="o">...</span>

  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">ContentViewCallback</span> <span class="kd">implements</span>
                       <span class="n">BaseTransientBottomBar</span><span class="o">.</span><span class="na">ContentViewCallback</span> <span class="o">{</span>

      <span class="c1">// view inflated from custom layout</span>
      <span class="kd">private</span> <span class="n">View</span> <span class="n">content</span><span class="o">;</span>

      <span class="kd">public</span> <span class="nf">ContentViewCallback</span><span class="o">(</span><span class="n">View</span> <span class="n">content</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">content</span> <span class="o">=</span> <span class="n">content</span><span class="o">;</span>
      <span class="o">}</span>

      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">animateContentIn</span><span class="o">(</span><span class="kt">int</span> <span class="n">delay</span><span class="o">,</span> <span class="kt">int</span> <span class="n">duration</span><span class="o">)</span> <span class="o">{</span>
          <span class="c1">// add custom *in animations for your views</span>
          <span class="c1">// e.g. original snackbar uses alpha animation, from 0 to 1</span>
          <span class="n">ViewCompat</span><span class="o">.</span><span class="na">setScaleY</span><span class="o">(</span><span class="n">content</span><span class="o">,</span> <span class="mf">0f</span><span class="o">);</span>
          <span class="n">ViewCompat</span><span class="o">.</span><span class="na">animate</span><span class="o">(</span><span class="n">content</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">scaleY</span><span class="o">(</span><span class="mf">1f</span><span class="o">).</span><span class="na">setDuration</span><span class="o">(</span><span class="n">duration</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">setStartDelay</span><span class="o">(</span><span class="n">delay</span><span class="o">);</span>
      <span class="o">}</span>

      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">animateContentOut</span><span class="o">(</span><span class="kt">int</span> <span class="n">delay</span><span class="o">,</span> <span class="kt">int</span> <span class="n">duration</span><span class="o">)</span> <span class="o">{</span>
          <span class="c1">// add custom *out animations for your views</span>
          <span class="c1">// e.g. original snackbar uses alpha animation, from 1 to 0</span>
          <span class="n">ViewCompat</span><span class="o">.</span><span class="na">setScaleY</span><span class="o">(</span><span class="n">content</span><span class="o">,</span> <span class="mf">1f</span><span class="o">);</span>
          <span class="n">ViewCompat</span><span class="o">.</span><span class="na">animate</span><span class="o">(</span><span class="n">content</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">scaleY</span><span class="o">(</span><span class="mf">0f</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="n">duration</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">setStartDelay</span><span class="o">(</span><span class="n">delay</span><span class="o">);</span>
      <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>IV. 通过自定义布局和方法来创建 <code>Snackbar</code></p>
<div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">final</span> <span class="n">CustomSnackbar</span> <span class="o">...{</span>

 <span class="o">...</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="n">CustomSnackbar</span> <span class="nf">make</span><span class="o">(</span><span class="n">ViewGroup</span> <span class="n">parent</span><span class="o">,</span> <span class="nd">@Duration</span> <span class="kt">int</span> <span class="n">duration</span><span class="o">)</span> <span class="o">{</span>
     <span class="c1">// inflate custom layout</span>
     <span class="n">LayoutInflater</span> <span class="n">inflater</span> <span class="o">=</span> <span class="n">LayoutInflater</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">getContext</span><span class="o">());</span>
     <span class="n">View</span> <span class="n">content</span> <span class="o">=</span> <span class="n">inflater</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">snackbar_view</span><span class="o">,</span> <span class="n">parent</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>

     <span class="c1">// create snackbar with custom view</span>
     <span class="n">ContentViewCallback</span> <span class="n">callback</span><span class="o">=</span> <span class="k">new</span> <span class="n">ContentViewCallback</span><span class="o">(</span><span class="n">content</span><span class="o">);</span>
     <span class="n">CustomSnackbar</span> <span class="n">customSnackbar</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CustomSnackbar</span><span class="o">(</span><span class="n">parent</span><span class="o">,</span> <span class="n">content</span><span class="o">,</span> <span class="n">callback</span><span class="o">);</span>

     <span class="c1">// set snackbar duration</span>
     <span class="n">customSnackbar</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="n">duration</span><span class="o">);</span>
     <span class="k">return</span> <span class="n">customSnackbar</span><span class="o">;</span>
 <span class="o">}</span>

 <span class="c1">// set text in custom layout</span>
 <span class="kd">public</span> <span class="n">CustomSnackbar</span> <span class="nf">setText</span><span class="o">(</span><span class="n">CharSequence</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">TextView</span> <span class="n">textView</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">getView</span><span class="o">().</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">snackbar_text</span><span class="o">);</span>
     <span class="n">textView</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>
     <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
 <span class="o">}</span>

 <span class="c1">// set action in custom layout</span>
 <span class="kd">public</span> <span class="n">CustomSnackbar</span> <span class="nf">setAction</span><span class="o">(</span><span class="n">CharSequence</span> <span class="n">text</span><span class="o">,</span> <span class="kd">final</span> <span class="n">OnClickListener</span> <span class="n">listener</span><span class="o">)</span> <span class="o">{</span>
     <span class="n">Button</span> <span class="n">actionView</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">getView</span><span class="o">().</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">snackbar_action</span><span class="o">);</span>
     <span class="n">actionView</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>
     <span class="n">actionView</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">VISIBLE</span><span class="o">);</span>
     <span class="n">actionView</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
         <span class="nd">@Override</span>
         <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
             <span class="n">listener</span><span class="o">.</span><span class="na">onClick</span><span class="o">(</span><span class="n">view</span><span class="o">);</span>
             <span class="c1">// Now dismiss the Snackbar</span>
             <span class="n">dismiss</span><span class="o">();</span>
         <span class="o">}</span>
     <span class="o">});</span>
     <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
 <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>V. 创建 <code>CustomSnackbar</code> 实例对象并调用 <code>show()</code> 方法。</p>
<div class="codehilite"><pre><span></span><span class="n">CustomSnackbar</span> <span class="n">customSnackbar</span> <span class="o">=</span> <span class="n">CustomSnackbar</span><span class="o">.</span><span class="na">make</span><span class="o">(</span><span class="n">rooView</span><span class="o">,</span> <span class="n">CustomSnackbar</span><span class="o">.</span><span class="na">LENGTH_INDEFINITE</span><span class="o">);</span>
<span class="n">customSnackbar</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;No network connection!&quot;</span><span class="o">);</span>
<span class="n">customSnackbar</span><span class="o">.</span><span class="na">setAction</span><span class="o">(</span><span class="s">&quot;Retry&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// handle click here</span>
    <span class="o">}</span>
<span class="o">});</span>
<span class="n">customSnackbar</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</pre></div>


<blockquote>
<p>翻译水平有限，欢迎批评指正</p>
<p>原文作者：Yakiv Mospan 原文地址：<a href="https://materialdoc.com/components/snackbars-and-toasts/#snack-bar">Snackbar</a></p>
</blockquote>
<h2 id="toast">Toast<a class="headerlink" href="#toast" title="Permanent link">&para;</a></h2>
<p><img alt="" src="../../images/toast-1.png" /></p>
<blockquote>
<p>摘自 google material design <a href="http://www.google.com.ua/design/spec/components/snackbars-toasts.html#">文档</a>.</p>
<p>Android 另外提供了一个 toast，主要用于系统消息。Toasts 跟 snackers 类似，但是不能包含 actions 和 不能懂屏幕滑动关闭掉。</p>
</blockquote>
<h3 id="_5">如何添加?<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>用 make() 方法创建一个 <code>Toast</code> 实例，然后调用 show() 方法。</p>
<div class="codehilite"><pre><span></span><span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="s">&quot;No network connection.&quot;</span><span class="o">,</span> <span class="n">duration</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
</pre></div>


<h4 id="duration_1">Duration<a class="headerlink" href="#duration_1" title="Permanent link">&para;</a></h4>
<p>使用 <code>makeText()</code> 方法的 <code>duration</code> 参数 或者 <code>setDuration</code>  方法指定 Snackbar 在屏幕上显示多长时间。</p>
<div class="codehilite"><pre><span></span><span class="c1">// you can use only those 2 predefined constants</span>
<span class="n">duration</span> <span class="o">=</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">;</span> <span class="c1">// 2000 millis</span>
<span class="n">duration</span> <span class="o">=</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">;</span> <span class="c1">// 3500 millis</span>

<span class="n">toast</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="n">duration</span><span class="o">);</span>
</pre></div>


<h4 id="cancel">Cancel<a class="headerlink" href="#cancel" title="Permanent link">&para;</a></h4>
<p>可以在任何时候使用 <code>cancel()</code> 方法手动的去隐藏 <code>Toast</code>  。</p>
<div class="codehilite"><pre><span></span><span class="n">Toast</span> <span class="n">toast</span><span class="o">=</span> <span class="n">Toast</span><span class="o">.</span><span class="na">make</span><span class="o">(</span><span class="n">view</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">duration</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
<span class="n">toast</span><span class="o">.</span><span class="na">cancel</span><span class="o">();</span> <span class="c1">//hide toast</span>
</pre></div>


<blockquote>
<p>如果在它显示的时候关闭它或者在不想显示的时候它仍然显示，通常你不需要去调用这个方法。它会在持续适当的时间之后自己消失。</p>
</blockquote>
<h4 id="positioning">Positioning<a class="headerlink" href="#positioning" title="Permanent link">&para;</a></h4>
<p>用 <code>setGravity()</code> 可以改变 <code>Toast</code> 的显示位置。</p>
<div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="n">gravity</span> <span class="o">=</span> <span class="n">Gravity</span><span class="o">.</span><span class="na">CENTER</span><span class="o">;</span> <span class="c1">// the position of toast</span>
<span class="kt">int</span> <span class="n">xOffset</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="c1">// horizontal offset from current gravity</span>
<span class="kt">int</span> <span class="n">yOffset</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="c1">// vertical offset from current gravity</span>

<span class="n">Toast</span> <span class="n">toast</span><span class="o">=</span> <span class="n">Toast</span><span class="o">.</span><span class="na">make</span><span class="o">(</span><span class="n">view</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">duration</span><span class="o">);</span>
<span class="n">toast</span><span class="o">.</span><span class="na">setGravity</span><span class="o">(</span><span class="n">gravity</span><span class="o">,</span> <span class="n">xOffset</span><span class="o">,</span> <span class="n">yOffset</span><span class="o">);</span>
</pre></div>


<h3 id="_6">如何设置样式?<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../../images/toast-2.png" /></p>
<h4 id="_7">用代码<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="c1">// 创建 Toast 实例</span>
<span class="n">Toast</span> <span class="n">toast</span> <span class="o">=</span> <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">text</span><span class="o">,</span> <span class="n">duration</span><span class="o">);</span>

<span class="c1">// 设置消息颜色</span>
<span class="n">TextView</span> <span class="n">textView</span><span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">toast</span><span class="o">.</span><span class="na">getView</span><span class="o">().</span><span class="na">findViewById</span><span class="o">(</span><span class="n">android</span><span class="o">.</span><span class="na">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">message</span><span class="o">);</span>
<span class="n">textView</span><span class="o">.</span><span class="na">setTextColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">YELLOW</span><span class="o">);</span>

<span class="c1">// 设置背景颜色</span>
<span class="n">toast</span><span class="o">.</span><span class="na">getView</span><span class="o">().</span><span class="na">setBackgroundColor</span><span class="o">(</span><span class="n">getResources</span><span class="o">().</span><span class="na">getColor</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">color</span><span class="o">.</span><span class="na">indigo</span><span class="o">));</span>
</pre></div>


<h4 id="view_1">用自定义 View<a class="headerlink" href="#view_1" title="Permanent link">&para;</a></h4>
<p>I. 在 <code>layout.xml</code> 文件内的任意位置声明你的自定义 View。</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;TextView</span>
        <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
        <span class="na">android:id=</span><span class="s">&quot;@+id/txtMessage&quot;</span>
        <span class="na">android:layout_width=</span><span class="s">&quot;wrap_content&quot;</span>
        <span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
        <span class="na">android:drawableStart=</span><span class="s">&quot;@drawable/ic_report_problem&quot;</span>
        <span class="na">android:drawablePadding=</span><span class="s">&quot;8dp&quot;</span>
        <span class="na">android:paddingTop=</span><span class="s">&quot;8dp&quot;</span>
        <span class="na">android:paddingBottom=</span><span class="s">&quot;8dp&quot;</span>
        <span class="na">android:paddingLeft=</span><span class="s">&quot;16dp&quot;</span>
        <span class="na">android:paddingRight=</span><span class="s">&quot;16dp&quot;</span>
        <span class="na">android:gravity=</span><span class="s">&quot;center&quot;</span>
        <span class="na">android:textColor=</span><span class="s">&quot;@android:color/white&quot;</span>
        <span class="na">android:textSize=</span><span class="s">&quot;16dp&quot;</span>
        <span class="na">android:text=</span><span class="s">&quot;No connection.&quot;</span>
        <span class="na">android:background=</span><span class="s">&quot;@color/indigo&quot;</span><span class="nt">/&gt;</span>
</pre></div>


<p>II. 通过  <code>setView()</code> 方法设置你的自定义 View 到 <code>Toast</code> 。</p>
<div class="codehilite"><pre><span></span><span class="c1">// 创建 Toast 实例</span>
<span class="n">Toast</span> <span class="n">toast</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Toast</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">());</span>

<span class="c1">// 创建自定义 view</span>
<span class="n">View</span> <span class="n">view</span> <span class="o">=</span> <span class="n">getLayoutInflater</span><span class="o">().</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">toast_view</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>

<span class="c1">// 设置自定义 view</span>
<span class="n">toast</span><span class="o">.</span><span class="na">setView</span><span class="o">(</span><span class="n">view</span><span class="o">);</span>

<span class="c1">// 设置显示持续时间</span>
<span class="n">toast</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_LONG</span><span class="o">);</span>

<span class="c1">// 设置位置</span>
<span class="kt">int</span> <span class="n">margin</span> <span class="o">=</span> <span class="n">getResources</span><span class="o">().</span><span class="na">getDimensionPixelSize</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">dimen</span><span class="o">.</span><span class="na">toast_vertical_margin</span><span class="o">);</span>
<span class="n">toast</span><span class="o">.</span><span class="na">setGravity</span><span class="o">(</span><span class="n">Gravity</span><span class="o">.</span><span class="na">BOTTOM</span> <span class="o">|</span> <span class="n">Gravity</span><span class="o">.</span><span class="na">CENTER_VERTICAL</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">margin</span><span class="o">);</span>

<span class="c1">// 显示 Toast</span>
<span class="n">toast</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
</pre></div>


<blockquote>
<p>翻译水平有限，欢迎批评指正</p>
<p>原文作者：Yakiv Mospan 原文地址：<a href="https://materialdoc.com/components/snackbars-and-toasts/#toast">Toast</a></p>
</blockquote>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../selection-controls/" title="Selection controls" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Selection controls
              </span>
            </div>
          </a>
        
        
          <a href="../tabs/" title="Tabs" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Tabs
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 - 2018 脉脉不得语
          </div>
        
        Powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://github.com/materialdoccn" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/inferjay" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://weibo.com/innferjay" class="md-footer-social__link fa fa-weibo"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-6940329b9f.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
      <script>!function(e,t,a,n,o,c,i){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,c=t.createElement(a),i=t.getElementsByTagName(a)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-71100105-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var t=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",t,e.href)})});var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})</script>
      
    
  </body>
</html>